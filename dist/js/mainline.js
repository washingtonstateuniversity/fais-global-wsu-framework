if (!Array.prototype.indexOf) {
    Array.prototype.indexOf = function (obj, start) {
        for (var i = (start || 0), j = this.length; i < j; i++) {
            if (this[i] === obj) {
                return i;
            }
        }
        return -1;
    };
}
if (!Array.prototype["remove"]) {
    Array.prototype["remove"] = function () {
        var what, a = arguments, L = a.length, ax;
        while (L && this.length) {
            what = a[--L];
            while ((ax = this.indexOf(what)) !== -1) {
                this.splice(ax, 1);
            }
        }
        return this;
    };
}
if (!String.prototype.endsWith) {
    String.prototype.endsWith = function (chars) {
        return this.substr(-chars.length) === chars;
    };
}
if (!String.prototype.leadingChars) {
    String.prototype.leadingChars = function (chars, length) {
        if (length > 0) {
            return (chars.toString().repeat(length) + this).substr(-length);
        }
        else {
            return (this + chars.toString().repeat(-length)).substr(0, -length);
        }
    };
}
if (!String.prototype.toCamelCase) {
    String.prototype.toCamelCase = function () {
        return this.replace(/(?:^\w|[A-Z]|-|\b\w)/g, function (ltr, idx) { return idx === 0
            ? ltr.toLowerCase()
            : ltr.toUpperCase(); }).replace(/\s+|-/g, '');
    };
}
window.matchMedia = window.matchMedia || (window.matchMedia = function () {
    'use strict';
    var styleMedia = (window.styleMedia || window.media);
    if (!styleMedia) {
        var style_1 = document.createElement('style'), script = document.getElementsByTagName('script')[0], info_1 = null;
        style_1.type = 'text/css';
        style_1.id = 'matchmediajs-test';
        script.parentNode.insertBefore(style_1, script);
        info_1 = ('getComputedStyle' in window) && window.getComputedStyle(style_1, null) || style_1.currentStyle;
        styleMedia = {
            matchMedium: function (media) {
                var text = '@media ' + media + '{ #matchmediajs-test { width: 1px; } }';
                if (style_1.styleSheet) {
                    style_1.styleSheet.cssText = text;
                }
                else {
                    style_1.textContent = text;
                }
                return info_1.width === '1px';
            }
        };
    }
    return function (media) {
        return {
            matches: styleMedia.matchMedium(media || 'all'),
            media: media || 'all'
        };
    };
}());
document.getElementsByTagName("html")[0].setAttribute('data-useragent', navigator.userAgent);
window.WSU = window.WSU || {};
(function (w) {
    w.defined = function (ns, type) {
        if (w.defined(type)) {
            if ('array' === type) {
                return typeof ns === 'object' &&
                    Object.prototype.toString.call(ns) === '[object Array]';
            }
            if ('string' === type) {
                return Object.prototype.toString.call(ns) === '[object String]';
            }
            if (w.defined(ns) && typeof ns !== type && typeof type === 'object') {
                return ns instanceof type;
            }
            return w.defined(ns) && typeof ns === type;
        }
        return 'undefined' !== typeof ns;
    };
    w.define = function (ns, val, ns_root) {
        var parent = ns;
        if (!w.defined(ns, 'object')) {
            parent = w.prime(ns, ns_root);
        }
        try {
            parent = val;
            return true;
        }
        catch (e) {
            w._d(e);
            return false;
        }
    };
    w.merge = function (obj) {
        var out = {};
        for (var i = 0; i < obj.length; i++) {
            for (var _a = 0, _b = Object.keys(obj[i]); _a < _b.length; _a++) {
                var p = _b[_a];
                out[p] = obj[i][p];
            }
        }
        return out;
    };
    w.prime = function (ns, ns_root, options) {
        ns_root = ns_root || window;
        options = Object.assign({ value: {}, override: true, merge: true }, options);
        var parent = ns_root, pl, i;
        function build_ns(_ns) {
            var out = [];
            if (!w.defined(_ns, 'object')) {
                try {
                    out = _ns.toString().split('.');
                }
                catch (e) {
                    w._i(e, _ns);
                    return false;
                }
            }
            else {
                _ns.forEach(function (obj) {
                    out = out.concat(build_ns(obj));
                });
            }
            return out;
        }
        var parts = build_ns(ns);
        pl = parts.length;
        for (i = 0; i < pl; i++) {
            if (!w.defined(parent[parts[i]]) || ((i === pl - 1))) {
                var value = parent[parts[i]] || {};
                if ((i === pl - 1) && w.defined(options.value) && w.defined(options.override) && true === options.override) {
                    if (w.defined(value) && w.defined(options.merge) && true === options.merge) {
                        if (w.defined(options.value, "string") || w.defined(options.value, "number")) {
                            value = value + options.value;
                        }
                        else if (w.defined(options.value, "boolean")) {
                            value = options.value;
                        }
                        else {
                            value = w.merge([value, options.value]);
                        }
                    }
                    else {
                        value = options.value;
                    }
                }
                parent[parts[i]] = value;
            }
            parent = parent[parts[i]];
        }
        return parent;
    };
    w.included = [];
    w.include = function (ns_path, callback) {
        if (!w.defined(w.included[ns_path])) {
            var srpt = document.createElement('script');
            if (w.defined(callback, 'function')) {
                srpt.addEventListener('load', callback);
            }
            srpt.src = ns_path + '.js';
            w.included.push(ns_path);
            document.querySelector('head').appendChild(srpt);
        }
    };
    w._d = function (output) {
        w.defined(WSU.state.debug) && WSU.state.debug && window.console.debug(output);
    };
    w._i = function (a, b) {
        w.defined(WSU.state.debug) && WSU.state.debug && window.console.info(a, b);
    };
}(WSU));
(function ($, jQuery) {
    jQuery.expr[":"].regex = function (elem, index, match) {
        var matchParams = match[3].split(","), validLabels = /^(data|css):/, attr = {
            method: matchParams[0].match(validLabels) ?
                matchParams[0].split(":")[0] : "attr",
            property: matchParams.shift().replace(validLabels, "")
        }, regexFlags = "ig", regex = new RegExp(matchParams.join("").replace(/^\s+|\s+$/g, ""), regexFlags);
        return regex.test(jQuery(elem)[attr.method](attr.property));
    };
    $.fn.overflown = function () { var e = this[0]; return e.scrollHeight > e.clientHeight || e.scrollWidth > e.clientWidth; };
    (function (factory) {
        if (WSU.defined(window.define, "function") && window.define.amd) {
            window.define(["jquery", "./version"], factory);
        }
        else {
            factory(jQuery);
        }
    }(function ($) {
        return jQuery.fn.extend({
            uniqueId: (function () {
                var uuid = 0;
                return function () {
                    return this.each(function () {
                        if (!this.id) {
                            this.id = "fw-trc-" + (++uuid);
                        }
                    });
                };
            })(),
            removeUniqueId: function () {
                return this.each(function () {
                    if (/^fw-trc-\d+$/.test(this.id)) {
                        $(this).removeAttr("id");
                    }
                });
            }
        });
    }));
    $.render = function (html, options) {
        var re, add, match, cursor, code, reExp, result;
        re = /<%(.+?)%>/g;
        reExp = /(^( )?(var|if|for|else|switch|case|break|{|}|;))(.*)?/g;
        code = "var r=[];\n";
        cursor = 0;
        add = function (line, js) {
            if (js) {
                code += line.match(reExp) ? line + "\n" : "r.push(" + line + ");\n";
            }
            else {
                code += line !== "" ? "r.push('" + line.replace(/'/g, "\"") + "');\n" : "";
            }
            return add;
        };
        while ((match = re.exec(html))) {
            add(html.slice(cursor, match.index))(match[1], true);
            cursor = match.index + match[0].length;
        }
        if (WSU.defined(html, 'string')) {
            add(html.substr(cursor, html.length - cursor));
            code = (code + "return r.join('');").replace(/[\r\t\n]/g, "");
            result = new Function(code).apply(options);
        }
        return result;
    };
}(window.jQuery, window.jQuery));
(function (window, UI) {
    UI.test = function () {
        WSU._d('get to the UI');
        WSU._d(UI);
        WSU._d('1214'.leadingChars('0', 10));
    };
    WSU.prime('actions.types', UI);
}(window, WSU.prime('ui', WSU)));
(function (window, UTIL) {
    UTIL.dumpKeysRecursively = function (obj, regex) {
        var keys = [];
        regex = regex || false;
        var createKeyPath = function (currentKeyPath, key) {
            return currentKeyPath + (currentKeyPath ? '.' : '') + key;
        };
        (function (path, any) {
            var i, k, currentPath;
            if (WSU.defined(any, "array")) {
                for (i = 0; i < any.length; i += 1) {
                    currentPath = createKeyPath(path, (i).toString());
                    if (false !== regex) {
                        var pmatch = regex.exec(currentPath);
                        if (null !== pmatch) {
                            keys.push(currentPath);
                        }
                    }
                    else {
                        keys.push(currentPath);
                    }
                    arguments.callee(currentPath, any[i]);
                }
            }
            else if (!WSU.defined(any, "string")) {
                for (k in any) {
                    if (any.hasOwnProperty(k)) {
                        currentPath = createKeyPath(path, k);
                        if (false !== regex) {
                            var rmatch = regex.exec(currentPath);
                            if (null !== rmatch) {
                                keys.push(currentPath);
                            }
                        }
                        else {
                            keys.push(currentPath);
                        }
                        arguments.callee(currentPath, any[k]);
                    }
                }
            }
        })('', obj);
        return keys;
    };
}(window, WSU.prime('utilities', WSU)));
(function (window, UTIL) {
    UTIL.test = function () {
        WSU._d('get to the WSUutilStatic');
        WSU._d(UTIL);
        WSU._d('1214'.leadingChars('0', 10));
    };
    WSU.prime('actions.types', UTIL);
}(window, WSU.prime('utilities', WSU)));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbmxpbmUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvc2NyaXB0cy9wb2x5ZmlsbHMvYXJyYXkucHJvdG90eXBlLmluZGV4b2YudHMiLCIuLi8uLi9zcmMvc2NyaXB0cy9wb2x5ZmlsbHMvYXJyYXkucHJvdG90eXBlLnJlbW92ZS50cyIsIi4uLy4uL3NyYy9zY3JpcHRzL3BvbHlmaWxscy9zdHJpbmcucHJvdG90eXBlLmVuZHNXaXRoLnRzIiwiLi4vLi4vc3JjL3NjcmlwdHMvcG9seWZpbGxzL3N0cmluZy5wcm90b3R5cGUubGVhZGluZ0NoYXIudHMiLCIuLi8uLi9zcmMvc2NyaXB0cy9wb2x5ZmlsbHMvc3RyaW5nLnByb3RvdHlwZS50b0NhbWVsQ2FzZS50cyIsIi4uLy4uL3NyYy9zY3JpcHRzL3BvbHlmaWxscy93aW5kb3cubWF0Y2hNZWRpYS50cyIsIi4uLy4uL3NyYy9zY3JpcHRzL2NvcmUvbWFpbmxpbmUudHMiLCIuLi8uLi9zcmMvc2NyaXB0cy91aS9tYWlubGluZS50cyIsIi4uLy4uL3NyYy9zY3JpcHRzL3V0aWxpdGllcy9kdW1wS2V5c1JlY3Vyc2l2ZWx5L2R1bXBLZXlzUmVjdXJzaXZlbHkudHMiLCIuLi8uLi9zcmMvc2NyaXB0cy91dGlsaXRpZXMvbWFpbmxpbmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7SUFDM0IsS0FBSyxDQUFDLFNBQVMsQ0FBQyxPQUFPLEdBQUcsVUFBUyxHQUFHLEVBQUUsS0FBSztRQUN6QyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUM7WUFDckQsRUFBRSxDQUFDLENBQUMsSUFB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QUFRLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUM5QixFQUFFLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQztRQUNsQixHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztZQUV0QixFQUFFLENBQUMsQ0FBRSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUUsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUUsQ0FBQyxDQUFDLENBQUM7Z0JBQ3ZELElBQUksS0FBSyxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7Z0JBQ25DLEVBQUUsQ0FBQyxDQUFFLENBQUMsQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxDQUFFLE9BQU8sQ0FBQyxRQUFRLENBQUUsSUFBSSxJQUFJLEtBQUssT0FBTyxDQUFDLFFBQVMsQ0FBQyxDQUFDLENBQUM7b0JBQzdHLEVBQUUsQ0FBQSxDQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBRSxPQUFPLENBQUMsS0FBSyxDQUFFLElBQUksSUFBSSxLQUFLLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQSxDQUFDO3dCQUUxRSxFQUFFLENBQUEsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUEsQ0FBQzs0QkFDdkUsS0FBSyxHQUFHLEtBQUssR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFDO3dCQUNsQyxD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Zikge1xuICAgIEFycmF5LnByb3RvdHlwZS5pbmRleE9mID0gZnVuY3Rpb24ob2JqLCBzdGFydCkge1xuICAgICAgICBmb3IgKGxldCBpID0gKHN0YXJ0IHx8IDApLCBqID0gdGhpcy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzW2ldID09PSBvYmopIHsgcmV0dXJuIGk7IH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfTtcbn1cbiIsImlmICghQXJyYXkucHJvdG90eXBlW1wicmVtb3ZlXCJdKSB7XG4gICAgQXJyYXkucHJvdG90eXBlW1wicmVtb3ZlXCJdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgd2hhdDogYW55LCBhID0gYXJndW1lbnRzLCBMID0gYS5sZW5ndGgsIGF4OiBhbnk7XG4gICAgICAgIHdoaWxlIChMICYmIHRoaXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB3aGF0ID0gYVstLUxdO1xuICAgICAgICAgICAgd2hpbGUgKChheCA9IHRoaXMuaW5kZXhPZih3aGF0KSkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zcGxpY2UoYXgsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbiIsImlmICghU3RyaW5nLnByb3RvdHlwZS5lbmRzV2l0aCkge1xuICAgIFN0cmluZy5wcm90b3R5cGUuZW5kc1dpdGggPSBmdW5jdGlvbiAoY2hhcnM6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gdGhpcy5zdWJzdHIoLWNoYXJzLmxlbmd0aCkgPT09IGNoYXJzO1xuICAgIH07XG59XG4iLCJpZiAoIVN0cmluZy5wcm90b3R5cGUubGVhZGluZ0NoYXJzKSB7XG4gICAgU3RyaW5nLnByb3RvdHlwZS5sZWFkaW5nQ2hhcnMgPSBmdW5jdGlvbiAoY2hhcnM6IHN0cmluZ3xudW1iZXIsIGxlbmd0aDogbnVtYmVyKTogc3RyaW5nICB7XG4gICAgICAgIGlmKGxlbmd0aD4wKXtcbiAgICAgICAgICAgIHJldHVybiAoY2hhcnMudG9TdHJpbmcoKS5yZXBlYXQobGVuZ3RoKSArIHRoaXMpLnN1YnN0cigtbGVuZ3RoKTsgLy9udW1iZXIgaXMgcG9zaXRpdmUsIHNvIGN1dCBmcm9tIHJpZ2h0IGFrYSBsZWFkaW5nXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgcmV0dXJuICh0aGlzICsgY2hhcnMudG9TdHJpbmcoKS5yZXBlYXQoLWxlbmd0aCkpLnN1YnN0cigwLC1sZW5ndGgpO1xuICAgICAgICB9XG4gICAgfTtcbn1cbiIsImlmICghU3RyaW5nLnByb3RvdHlwZS50b0NhbWVsQ2FzZSkge1xuICAgIFN0cmluZy5wcm90b3R5cGUudG9DYW1lbENhc2UgPSBmdW5jdGlvbigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXBsYWNlKC8oPzpeXFx3fFtBLVpdfC18XFxiXFx3KS9nLFxuICAgICAgICAobHRyOmFueSwgaWR4OmFueSkgPT4gaWR4ID09PSAwXG4gICAgICAgICAgICAgICAgPyBsdHIudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgIDogbHRyLnRvVXBwZXJDYXNlKClcbiAgICAgICAgKS5yZXBsYWNlKC9cXHMrfC0vZywgJycpO1xuICAgIH07XG59XG4iLCIvKiEgbWF0Y2hNZWRpYSgpIHBvbHlmaWxsIC0gVGVzdCBhIENTUyBtZWRpYSB0eXBlL3F1ZXJ5IGluIEpTLlxuICAgIEF1dGhvcnMgJiBjb3B5cmlnaHQgKGMpIDIwMTI6IFNjb3R0IEplaGwsIFBhdWwgSXJpc2gsIE5pY2hvbGFzIFpha2FzLCBEYXZpZCBLbmlnaHQuIER1YWwgTUlUL0JTRCBsaWNlbnNlXG4gICAgfHwgYWx0ZXJlZCB0byB3b3JrIGZvciB0eXBlc2NyaXRwdCBieSBKZXJlbXkgQmFzcyBpbiAyMDE2ICovXG4oPGFueT53aW5kb3cpLm1hdGNoTWVkaWEgPSB3aW5kb3cubWF0Y2hNZWRpYSB8fCAoKDxhbnk+d2luZG93KS5tYXRjaE1lZGlhID0gZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLy8gRm9yIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCBtYXRjaE1lZGl1bSBhcGkgc3VjaCBhcyBJRSA5IGFuZCB3ZWJraXRcbiAgICBsZXQgc3R5bGVNZWRpYSA9ICh3aW5kb3cuc3R5bGVNZWRpYSB8fCAoPGFueT53aW5kb3cpLm1lZGlhKTtcblxuICAgIC8vIEZvciB0aG9zZSB0aGF0IGRvbid0IHN1cHBvcnQgbWF0Y2hNZWRpdW1cbiAgICBpZiAoIXN0eWxlTWVkaWEpIHtcbiAgICAgICAgbGV0IHN0eWxlOiBhbnkgID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKSxcbiAgICAgICAgICAgIHNjcmlwdDogYW55ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpWzBdLFxuICAgICAgICAgICAgaW5mbzogYW55ICAgPSBudWxsO1xuXG4gICAgICAgIHN0eWxlLnR5cGUgID0gJ3RleHQvY3NzJztcbiAgICAgICAgc3R5bGUuaWQgICAgPSAnbWF0Y2htZWRpYWpzLXRlc3QnO1xuXG4gICAgICAgIHNjcmlwdC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShzdHlsZSwgc2NyaXB0KTtcblxuICAgICAgICAvLyAnc3R5bGUuY3VycmVudFN0eWxlJyBpcyB1c2VkIGJ5IElFIDw9IDggYW5kICd3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZScgZm9yIGFsbCBvdGhlciBicm93c2Vyc1xuICAgICAgICBpbmZvID0gKCdnZXRDb21wdXRlZFN0eWxlJyBpbiB3aW5kb3cpICYmIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHN0eWxlLCBudWxsKSB8fCBzdHlsZS5jdXJyZW50U3R5bGU7XG5cbiAgICAgICAgc3R5bGVNZWRpYSA9IHtcbiAgICAgICAgICAgIG1hdGNoTWVkaXVtOiBmdW5jdGlvbihtZWRpYTogYW55KSB7XG4gICAgICAgICAgICAgICAgbGV0IHRleHQgPSAnQG1lZGlhICcgKyBtZWRpYSArICd7ICNtYXRjaG1lZGlhanMtdGVzdCB7IHdpZHRoOiAxcHg7IH0gfSc7XG5cbiAgICAgICAgICAgICAgICAvLyAnc3R5bGUuc3R5bGVTaGVldCcgaXMgdXNlZCBieSBJRSA8PSA4IGFuZCAnc3R5bGUudGV4dENvbnRlbnQnIGZvciBhbGwgb3RoZXIgYnJvd3NlcnNcbiAgICAgICAgICAgICAgICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgICAgICAgICAgICAgICAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSB0ZXh0O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlLnRleHRDb250ZW50ID0gdGV4dDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBUZXN0IGlmIG1lZGlhIHF1ZXJ5IGlzIHRydWUgb3IgZmFsc2VcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5mby53aWR0aCA9PT0gJzFweCc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKG1lZGlhOiBhbnkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1hdGNoZXM6IHN0eWxlTWVkaWEubWF0Y2hNZWRpdW0obWVkaWEgfHwgJ2FsbCcpLFxuICAgICAgICAgICAgbWVkaWE6IG1lZGlhIHx8ICdhbGwnXG4gICAgICAgIH07XG4gICAgfTtcbn0oKSk7XG4iLCJkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImh0bWxcIilbMF0uc2V0QXR0cmlidXRlKCdkYXRhLXVzZXJhZ2VudCcsIG5hdmlnYXRvci51c2VyQWdlbnQpO1xuLy90byBoZWxsIHdpdGggdGhpbmdzLCBsZXQgdGhlIGRldiBkZWNpZGUgaWYgdGhleSB3YW50IHRvIHNldCBicm93c2VyIHRhcmdldGVkIHN0dWZmLlxuLy9haW0gaXMgdG8gYXNzdW1lIGFueW9uZSBtYXNraW5nIHRoZWlyIGFnZW50IGtub3cgd2hhdCB0aGV5IGFyZSBnZXR0aW5nIGluIGZvciB5ZXQgaXMgc3RpbGwgYWNjb3VudGFibGUgZm9yIHRvby5cblxuXG4vLyBDb3BpZWQgd2l0aCBwZXJtaXNzaW9uIGZyb20gZmxleGVkXG4oPGFueT53aW5kb3cpLldTVSA9ICg8YW55PndpbmRvdykuV1NVIHx8IHt9O1xuXG4oZnVuY3Rpb24gKHc6IFdTVXN0YXRpYykge1xuICAgIC8vIGEgbXVsdGkgdG9vbCB0byBzdHJvbmcgdHlwZSB0aGluZ3MgYnkgY2hlY2tpbmcgdHlwZVxuICAgIC8vIG1vc3QgY29tbW9uIHVzZSBpcyBgdy5kZWZpbmVkKHR5cGUpYFxuICAgIHcuZGVmaW5lZCA9IGZ1bmN0aW9uKG5zOiBhbnksIHR5cGU/OiBhbnkpIHtcbiAgICAgICAgaWYgKCB3LmRlZmluZWQodHlwZSkgKSB7XG4gICAgICAgICAgICBpZiAoJ2FycmF5JyA9PT0gdHlwZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2YgbnMgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChucykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoJ3N0cmluZycgPT09IHR5cGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5zKSA9PT0gJ1tvYmplY3QgU3RyaW5nXSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiggdy5kZWZpbmVkKG5zKSAmJiB0eXBlb2YgbnMgIT09IHR5cGUgJiYgdHlwZW9mIHR5cGUgPT09ICdvYmplY3QnKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnMgaW5zdGFuY2VvZiB0eXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHcuZGVmaW5lZChucykgJiYgdHlwZW9mIG5zID09PSB0eXBlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAndW5kZWZpbmVkJyAhPT0gdHlwZW9mIG5zO1xuICAgIH07XG4gICAgdy5kZWZpbmUgPSBmdW5jdGlvbihuczogYW55LCB2YWw/OiBhbnksIG5zX3Jvb3Q/OiBhbnkpIHtcbiAgICAgICAgbGV0IHBhcmVudCA9IG5zO1xuICAgICAgICBpZiAoIXcuZGVmaW5lZChucywgJ29iamVjdCcpKSB7XG4gICAgICAgICAgICBwYXJlbnQgPSB3LnByaW1lKG5zLCBuc19yb290KTtcbiAgICAgICAgfVxuICAgICAgICB0cnkgeyAvLyB0ZXN0aW5nIGNhc3VlIGlmIGl0IGRvZXMgZmFpbCB3ZWxsIGl0IGRpZCBhbmQgdGhhdCBjb3VsZCBiZSB1c2VmdWxcbiAgICAgICAgICAgIHBhcmVudCA9IHZhbDsgLy8gd29ycmllZCB0aGlzIHdpbGwgbm90IHVwZGF0ZSBwYXJlbnQgbnMgMTAwXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdy5fZChlKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdy5tZXJnZSA9IGZ1bmN0aW9uKG9iajogYW55KSB7XG4gICAgICAgIGxldCBvdXQ6IGFueSA9IHt9O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9iai5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgcCBvZiBPYmplY3Qua2V5cyhvYmpbaV0pICkgeyAvLyBsZXQgcCBpbiBvYmpbaV0pIHtcbiAgICAgICAgICAgICAgICBvdXRbcF0gPSBvYmpbaV1bcF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9O1xuICAgIHcucHJpbWUgPSBmdW5jdGlvbiAobnM6IGFueSwgbnNfcm9vdD86IGFueSwgb3B0aW9ucz86IGFueSkge1xuICAgICAgICBuc19yb290ID0gbnNfcm9vdCB8fCB3aW5kb3c7XG4gICAgICAgIC8vIGh1bGsgc21hc2g/XG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt2YWx1ZTp7fSxvdmVycmlkZTp0cnVlLG1lcmdlOnRydWV9LCBvcHRpb25zKTsvLyBvcHRpb25zIHx8IHt2YWx1ZTp7fSxvdmVycmlkZTpmYWxzZSx9O1xuXG4gICAgICAgIHZhciBwYXJlbnQgPSBuc19yb290LFxuICAgICAgICAgICAgcGw6IG51bWJlcixcbiAgICAgICAgICAgIGk6IG51bWJlcjtcblxuICAgICAgICBmdW5jdGlvbiBidWlsZF9ucyhfbnM6IGFueSk6IGFueSB7IC8vIHNob3VsZCBiZSBhYmxlIHRvIHJlZmFjdG9yIHRoaXMgYml0XG4gICAgICAgICAgICBsZXQgb3V0OiBhbnkgPSBbXTtcbiAgICAgICAgICAgIGlmICggIXcuZGVmaW5lZChfbnMsICdvYmplY3QnKSApIHsgLy8gZWcgc3RyaW5nIG9yIG51bWJlciAvL3dhcyAnb2JqZWN0JyAhPT0gdHlwZW9mIF9uc1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIG91dCA9IF9ucy50b1N0cmluZygpLnNwbGl0KCcuJyk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyAvLyBzbyBhdCB0aGlzIHBvaW50IGl0IHdhcyBub3QgYW4gb2JqZWN0LCBudW1iZXIgb3Igc3RyaW5nLi4uIHdoYXQgaXMgaXQ/XG4gICAgICAgICAgICAgICAgICAgIHcuX2koZSwgX25zKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgX25zLmZvckVhY2goZnVuY3Rpb24gKG9iajogYW55KSB7XG4gICAgICAgICAgICAgICAgICAgIG91dCA9IG91dC5jb25jYXQoYnVpbGRfbnMob2JqKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb3V0O1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHBhcnRzOiBhbnkgPSBidWlsZF9ucyhucyk7XG4gICAgICAgIHBsID0gcGFydHMubGVuZ3RoO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGw7IGkrKykge1xuICAgICAgICAgICAgLy8gY3JlYXRlIGEgcHJvcGVydHkgaWYgaXQgZG9lc250IGV4aXN0XG4gICAgICAgICAgICBpZiAoICF3LmRlZmluZWQoIHBhcmVudFtwYXJ0c1tpXV0gKSB8fCAoKGkgPT09IHBsIC0gMSkpICkge1xuICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IHBhcmVudFtwYXJ0c1tpXV0gfHwge307XG4gICAgICAgICAgICAgICAgaWYgKCAoaSA9PT0gcGwgLSAxKSAmJiB3LmRlZmluZWQob3B0aW9ucy52YWx1ZSkgJiYgdy5kZWZpbmVkKCBvcHRpb25zLm92ZXJyaWRlICkgJiYgdHJ1ZSA9PT0gb3B0aW9ucy5vdmVycmlkZSApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYoIHcuZGVmaW5lZCh2YWx1ZSkgJiYgdy5kZWZpbmVkKCBvcHRpb25zLm1lcmdlICkgJiYgdHJ1ZSA9PT0gb3B0aW9ucy5tZXJnZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0ZXh0IG9wdGlvbnMudmFsdWUgb3ZlciB2YWx1ZSBhcyB0aGUgd3JpdGVyIHNob3VsZCBkZWZpbmVkIGFuZCB0ZXN0XG4gICAgICAgICAgICAgICAgICAgICAgICBpZih3LmRlZmluZWQob3B0aW9ucy52YWx1ZSxcInN0cmluZ1wiKSB8fCB3LmRlZmluZWQob3B0aW9ucy52YWx1ZSxcIm51bWJlclwiKSl7Ly8gcmVhbGx5PyAgbG9sIHdoeSB3b3VsZCB5b3U/ICBidXQgcmVnYXJkbGVzcyBkb24ndCBidWlsZCB3YWxscyBzbyBsZWF2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgKyBvcHRpb25zLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmKHcuZGVmaW5lZChvcHRpb25zLnZhbHVlLFwiYm9vbGVhblwiKSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG9wdGlvbnMudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdy5tZXJnZShbdmFsdWUsIG9wdGlvbnMudmFsdWVdKTsvL09iamVjdC5hc3NpZ24odmFsdWUsIG9wdGlvbnMudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gb3B0aW9ucy52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYXJlbnRbcGFydHNbaV1dID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnRbcGFydHNbaV1dO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJlbnQ7XG4gICAgfTtcbiAgICB3LmluY2x1ZGVkID0gW107XG4gICAgdy5pbmNsdWRlID0gZnVuY3Rpb24gKG5zX3BhdGg6IHN0cmluZywgY2FsbGJhY2s/OiBhbnkpe1xuICAgICAgICBpZiAoIXcuZGVmaW5lZCh3LmluY2x1ZGVkW25zX3BhdGhdKSkgey8vIGlmIGl0IGlzIGxvYWRlZCBkb24ndCB3b3JyeVxuICAgICAgICAgICAgbGV0IHNycHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICAgICAgICAgIGlmICggdy5kZWZpbmVkKGNhbGxiYWNrLCAnZnVuY3Rpb24nKSApIHtcbiAgICAgICAgICAgICAgICBzcnB0LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBjYWxsYmFjayk7IC8vIHBhc3MgbXkgaG9pc3RlZCBmdW5jdGlvblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3JwdC5zcmMgPSBuc19wYXRoICsgJy5qcyc7XG4gICAgICAgICAgICB3LmluY2x1ZGVkLnB1c2gobnNfcGF0aCk7XG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdoZWFkJykuYXBwZW5kQ2hpbGQoc3JwdCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdy5fZCA9IGZ1bmN0aW9uKG91dHB1dDogYW55KSB7XG4gICAgICAgIC8vIHJldHVybiBmb3IgY29uc2lzdGVuY3lcbiAgICAgICAgIHcuZGVmaW5lZChXU1Uuc3RhdGUuZGVidWcpICYmIFdTVS5zdGF0ZS5kZWJ1ZyAmJiAoPGFueT53aW5kb3cpLmNvbnNvbGUuZGVidWcob3V0cHV0KTsgLy8gdHNsaW50OmRpc2FibGUtbGluZVxuICAgIH07XG4gICAgdy5faSA9IGZ1bmN0aW9uKGE6IGFueSwgYjogYW55KSB7XG4gICAgICAgIC8vIHJldHVybiBmb3IgY29uc2lzdGVuY3lcbiAgICAgICAgIHcuZGVmaW5lZChXU1Uuc3RhdGUuZGVidWcpICYmIFdTVS5zdGF0ZS5kZWJ1ZyAmJiAoPGFueT53aW5kb3cpLmNvbnNvbGUuaW5mbyhhLCBiKTsgLy8gdHNsaW50OmRpc2FibGUtbGluZVxuICAgIH07XG59KFdTVSkpO1xuXG5cblxuLypcbiogalF1ZXJ5IGhlbHBlcnMuICBNYXkgbW92ZSBhd2F5IGZyb20gaGVyZSwgYnV0IG11c3QgcHJveHkgYW55dGhpbmdcbiovXG4oZnVuY3Rpb24oJCxqUXVlcnkpeyAvLyB0aGlzIHdpbGwgZGVwZW5kIG9uIGpRdWVyeVxuICAgIGpRdWVyeS5leHByW1wiOlwiXS5yZWdleCA9IGZ1bmN0aW9uIChlbGVtOmFueSwgaW5kZXg6YW55LCBtYXRjaDphbnkpIHtcbiAgICAgICAgdmFyIG1hdGNoUGFyYW1zID0gbWF0Y2hbM10uc3BsaXQoXCIsXCIpLFxuICAgICAgICAgICAgdmFsaWRMYWJlbHMgPSAvXihkYXRhfGNzcyk6LyxcbiAgICAgICAgICAgIGF0dHIgPSB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiBtYXRjaFBhcmFtc1swXS5tYXRjaCh2YWxpZExhYmVscykgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoUGFyYW1zWzBdLnNwbGl0KFwiOlwiKVswXSA6IFwiYXR0clwiLFxuICAgICAgICAgICAgICAgIHByb3BlcnR5OiBtYXRjaFBhcmFtcy5zaGlmdCgpLnJlcGxhY2UodmFsaWRMYWJlbHMsIFwiXCIpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVnZXhGbGFncyA9IFwiaWdcIixcbiAgICAgICAgICAgIHJlZ2V4ID0gbmV3IFJlZ0V4cChtYXRjaFBhcmFtcy5qb2luKFwiXCIpLnJlcGxhY2UoL15cXHMrfFxccyskL2csIFwiXCIpLCByZWdleEZsYWdzKTtcbiAgICAgICAgcmV0dXJuIHJlZ2V4LnRlc3QoalF1ZXJ5KGVsZW0pW2F0dHIubWV0aG9kXShhdHRyLnByb3BlcnR5KSk7XG4gICAgfTtcbiAgICAkLmZuLm92ZXJmbG93biA9IGZ1bmN0aW9uICgpIHsgbGV0IGUgPSB0aGlzWzBdOyByZXR1cm4gZS5zY3JvbGxIZWlnaHQgPiBlLmNsaWVudEhlaWdodCB8fCBlLnNjcm9sbFdpZHRoID4gZS5jbGllbnRXaWR0aDsgfTtcbiAgICAvL3RhcmdldGVkLnVuaXF1ZUlkKCk7IHwgcmVtb3ZlVW5pcXVlSWQoKSAvLyBqUXVlcnkgZXh0XG4gICAgKGZ1bmN0aW9uIChmYWN0b3J5KSB7XG4gICAgICAgIGlmICggV1NVLmRlZmluZWQoICg8YW55PiB3aW5kb3cpLmRlZmluZSwgXCJmdW5jdGlvblwiKSAmJiAoPGFueT4gd2luZG93KS5kZWZpbmUuYW1kKSB7XG4gICAgICAgICAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG4gICAgICAgICAgICAoPGFueT4gd2luZG93KS5kZWZpbmUoW1wianF1ZXJ5XCIsIFwiLi92ZXJzaW9uXCJdLCBmYWN0b3J5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEJyb3dzZXIgZ2xvYmFsc1xuICAgICAgICAgICAgZmFjdG9yeShqUXVlcnkpO1xuICAgICAgICB9XG4gICAgfShmdW5jdGlvbiAoJDphbnkpIHtcbiAgICAgICAgcmV0dXJuIGpRdWVyeS5mbi5leHRlbmQoe1xuICAgICAgICAgICAgdW5pcXVlSWQ6IChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHV1aWQgPSAwO1xuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pZCA9IFwiZnctdHJjLVwiICsgKCsrdXVpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KSgpLFxuICAgICAgICAgICAgcmVtb3ZlVW5pcXVlSWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKC9eZnctdHJjLVxcZCskLy50ZXN0KHRoaXMuaWQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUF0dHIoXCJpZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KSk7XG5cbiAgICAkLnJlbmRlciA9IGZ1bmN0aW9uIChodG1sOmFueSwgb3B0aW9uczphbnkpIHtcbiAgICAgICAgLy8gQHRvZG8gYWRkIGJldHRlciBlcnJvciBoYW5kbGluZyBmb3IgZW1wdHlzIGF0IHRoZSBsZWFzdFxuICAgICAgICB2YXIgcmUsIGFkZDphbnksIG1hdGNoLCBjdXJzb3IsIGNvZGU6YW55LCByZUV4cDphbnksIHJlc3VsdDtcblxuICAgICAgICByZSA9IC88JSguKz8pJT4vZztcbiAgICAgICAgcmVFeHAgPSAvKF4oICk/KHZhcnxpZnxmb3J8ZWxzZXxzd2l0Y2h8Y2FzZXxicmVha3x7fH18OykpKC4qKT8vZztcbiAgICAgICAgY29kZSA9IFwidmFyIHI9W107XFxuXCI7XG4gICAgICAgIGN1cnNvciA9IDA7XG5cbiAgICAgICAgYWRkID0gZnVuY3Rpb24gKGxpbmU6YW55LCBqczphbnkpIHtcbiAgICAgICAgICAgIGlmIChqcykge1xuICAgICAgICAgICAgICAgIGNvZGUgKz0gbGluZS5tYXRjaChyZUV4cCkgPyBsaW5lICsgXCJcXG5cIiA6IFwici5wdXNoKFwiICsgbGluZSArIFwiKTtcXG5cIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29kZSArPSBsaW5lICE9PSBcIlwiID8gXCJyLnB1c2goJ1wiICsgbGluZS5yZXBsYWNlKC8nL2csIFwiXFxcIlwiKSArIFwiJyk7XFxuXCIgOiBcIlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFkZDtcbiAgICAgICAgfTtcblxuICAgICAgICB3aGlsZSAoKG1hdGNoID0gcmUuZXhlYyhodG1sKSkpIHtcbiAgICAgICAgICAgIGFkZChodG1sLnNsaWNlKGN1cnNvciwgbWF0Y2guaW5kZXgpKShtYXRjaFsxXSwgdHJ1ZSk7XG4gICAgICAgICAgICBjdXJzb3IgPSBtYXRjaC5pbmRleCArIG1hdGNoWzBdLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBpZihXU1UuZGVmaW5lZChodG1sLCdzdHJpbmcnKSl7XG4gICAgICAgICAgICBhZGQoaHRtbC5zdWJzdHIoY3Vyc29yLCBodG1sLmxlbmd0aCAtIGN1cnNvcikpO1xuICAgICAgICAgICAgY29kZSA9IChjb2RlICsgXCJyZXR1cm4gci5qb2luKCcnKTtcIikucmVwbGFjZSgvW1xcclxcdFxcbl0vZywgXCJcIik7XG4gICAgICAgICAgICByZXN1bHQgPSBuZXcgRnVuY3Rpb24oY29kZSkuYXBwbHkob3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xufSgoPGFueT53aW5kb3cpLmpRdWVyeSwoPGFueT53aW5kb3cpLmpRdWVyeSkpO1xuIiwiKGZ1bmN0aW9uICh3aW5kb3c6IGFueSwgVUk6IFdTVXVpU3RhdGljKSB7XG4gICAgIFVJLnRlc3QgPSBmdW5jdGlvbigpe1xuICAgICAgICBXU1UuX2QoJ2dldCB0byB0aGUgVUknKTtcbiAgICAgICAgV1NVLl9kKFVJKTtcbiAgICAgICAgV1NVLl9kKCcxMjE0Jy5sZWFkaW5nQ2hhcnMoJzAnLCAxMCkpO1xuICAgIH07XG5cbiAgICAvLyBjYW4gZXh0ZW5kIHRoaXNcbiAgICBXU1UucHJpbWUoJ2FjdGlvbnMudHlwZXMnLCBVSSk7XG59ICh3aW5kb3csIFdTVS5wcmltZSgndWknLCBXU1UpICkgKTtcbiIsIihmdW5jdGlvbiAod2luZG93OiBhbnksIFVUSUw6IFdTVXV0aWxTdGF0aWMpIHtcbiAgICBVVElMLmR1bXBLZXlzUmVjdXJzaXZlbHkgPSBmdW5jdGlvbiAob2JqOiBhbnksIHJlZ2V4OiBhbnkpIHtcbiAgICAgICAgdmFyIGtleXM6IGFueSA9IFtdO1xuICAgICAgICByZWdleCA9IHJlZ2V4IHx8IGZhbHNlO1xuICAgICAgICB2YXIgY3JlYXRlS2V5UGF0aCA9IGZ1bmN0aW9uIChjdXJyZW50S2V5UGF0aDogYW55LCBrZXk6IGFueSkge1xuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRLZXlQYXRoICsgKGN1cnJlbnRLZXlQYXRoID8gJy4nIDogJycpICsga2V5O1xuICAgICAgICB9O1xuICAgICAgICAoZnVuY3Rpb24gKHBhdGg6IGFueSwgYW55OiBhbnkpIHtcbiAgICAgICAgICAgIHZhciBpOiBhbnksIGs6IGFueSwgY3VycmVudFBhdGg6IGFueTtcbiAgICAgICAgICAgIGlmICggV1NVLmRlZmluZWQoYW55LFwiYXJyYXlcIikgKSB7XG4gICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGFueS5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGF0aCA9IGNyZWF0ZUtleVBhdGgocGF0aCwgKGkpLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmFsc2UgIT09IHJlZ2V4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcG1hdGNoID0gcmVnZXguZXhlYyhjdXJyZW50UGF0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobnVsbCAhPT0gcG1hdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5cy5wdXNoKGN1cnJlbnRQYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleXMucHVzaChjdXJyZW50UGF0aCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYXJndW1lbnRzLmNhbGxlZShjdXJyZW50UGF0aCwgYW55W2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCAhV1NVLmRlZmluZWQoYW55LFwic3RyaW5nXCIpICkge1xuICAgICAgICAgICAgICAgIGZvciAoayBpbiBhbnkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFueS5oYXNPd25Qcm9wZXJ0eShrKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhdGggPSBjcmVhdGVLZXlQYXRoKHBhdGgsIGspO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZhbHNlICE9PSByZWdleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBybWF0Y2ggPSByZWdleC5leGVjKGN1cnJlbnRQYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobnVsbCAhPT0gcm1hdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleXMucHVzaChjdXJyZW50UGF0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlzLnB1c2goY3VycmVudFBhdGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYXJndW1lbnRzLmNhbGxlZShjdXJyZW50UGF0aCwgYW55W2tdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkoJycsIG9iaik7XG4gICAgICAgIHJldHVybiBrZXlzO1xuICAgIH07XG59ICh3aW5kb3csIFdTVS5wcmltZSgndXRpbGl0aWVzJywgV1NVKSApICk7XG4iLCIoZnVuY3Rpb24gKHdpbmRvdzogYW55LCBVVElMOiBXU1V1dGlsU3RhdGljKSB7XG4gICAgIFVUSUwudGVzdCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIFdTVS5fZCgnZ2V0IHRvIHRoZSBXU1V1dGlsU3RhdGljJyk7XG4gICAgICAgIFdTVS5fZChVVElMKTtcbiAgICAgICAgV1NVLl9kKCcxMjE0Jy5sZWFkaW5nQ2hhcnMoJzAnLCAxMCkpO1xuICAgIH07XG4gICAgLy8gY2FuIGV4dGVuZCB0aGlzXG4gICAgV1NVLnByaW1lKCdhY3Rpb25zLnR5cGVzJywgVVRJTCk7XG59ICh3aW5kb3csIFdTVS5wcmltZSgndXRpbGl0aWVzJywgV1NVKSApICk7XG4iXX0=